name: Update year
on:
  workflow_dispatch:
    inputs:
      aoc_year:
        description: 'Advent of Code year'
        required: true
        default: 'yyyy'
jobs:
  update-year:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - name: Update Advent of Code year
      run: |
        echo "year = ${{ github.event.inputs.aoc_year }}" +
    - name: Update README.md
      run: |
        find . -name 'README.md' | xargs sed -i "s/{year}/${{ github.event.inputs.aoc_year }}/g"
    - name: Update pom.xml
      run: |
        find . -name 'pom.xml' | xargs sed -i 's/yyyy/'${{ github.event.inputs.aoc_year }}'/g'
    - name: Check changes
      run: |
        git status
        
